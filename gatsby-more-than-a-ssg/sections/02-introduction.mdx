import { Highlight } from '../components'
import { TwitterTweetEmbed } from 'react-twitter-embed'
import { Appear } from 'mdx-deck'

export default Highlight

# What is Gatsby?

---

# Gatsby is a Static <span className="faded">Site</span>/<a href="https://www.gatsbyjs.org/docs/progressive-web-app" className="gatsby">PWA</a> Generator for React

```notes
- Produces just! static HTML
- "Web Compiler"
```

---

# static files !== static app

<Appear><h2 style={{ textAlign: 'center' }}>Gatsby rehydrates into a <span className="blue">React</span> app</h2></Appear>

```notes
- You could describe it as create-react-app with SSR files
```

---

<TwitterTweetEmbed style={{ marginTop: '6rem' }} tweetId="1068958188530069505" options={{ cards: 'hidden' }} />

---

## Blazingly fast by default

```notes
- Gatsby was designed in a way that it is really hard to build a slow site
- Adding service workers etc. to fulfill PWA specs is easy
```

<img style={{ marginTop: 'var(--t-m)' }} src={require("file-loader!../assets/lighthouse.jpg")} alt="Google Lighthouse Score" />

---

# How?

<ul>
    <Appear>
        <li>Follows the <a href="https://www.gatsbyjs.org/docs/prpl-pattern/">PRPL</a> pattern</li>
        <li>Route-based code splitting</li>
        <li>Lazy-Loading pages whose links are in the viewport</li>
        <li>Inlining of critical resources</li>
        <li>Query only the data you need</li>
        <li>Simple to do, high performant image optimizations</li>
    </Appear>
</ul>

```notes
- Push critical resources, render initial route, pre-cache routes, lazy-load content
- Loading components for routes, not all at once
- Using Intersection Observer for lazy-loading
- CSS/JS above the fold gets inlined
```

---

## gatsby-image

<img style={{ marginTop: 'var(--t-m)', width: '800px' }} src={require("file-loader!../assets/gatsby-image.gif")} alt="Gatsby Image showing Lazy-Loading" />

```notes
- Loads optimal size of image for every device
- Loading effects
- Lazy-Loading
- Resizing, Formatting, Effects, Cropping possible
```

---

## GraphQL

<iframe style={{ height: '800px', width: '1200px', marginTop: 'var(--t-m)' }} src="https://711808k40x.sse.codesandbox.io/___graphql?query=%7B%0A%20%20site%20%7B%0A%20%20%20%20siteMetadata%20%7B%0A%20%20%20%20%20%20title%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A"></iframe>

```notes
- GraphQL is a query language and runtime that we can use to build and expose APIs as a strongly-typed schema instead of hundreds of REST endpoints
- You pick what you need
- It's fast & flexible
- Better search
- Single Source of Truth
- Scales with your app
- Consistent with every data source
```

---

## Life of a Gatsby app

<img style={{ marginTop: 'var(--t-m)', maxWidth: '100%' }} src={require("file-loader!../assets/gatsby-path.png")} alt="Google Lighthouse Score" />

```notes
- Node APIs to laod any data source into GraphQL
- Static Build & Deploy to FTP/Netlify (It's just HTML/CSS/JS). No server needed!
- Simpler deployment & reduced DevOps
- Rehydration into React App
- Dynamic data fetching with e.g. Apollo possible
```

---

## Gatsby by analogies

<ul>
    <Appear>
        <li>Start off with a pre-configured development environment and build process (high-performance car)</li>
        <li>Benefit from built-in performance optimization (Neoâ€™s Matrix skills)</li>
        <li>Leverage static site delivery and web app experience (Compressed mattress)</li>
        <li>Prefetch resources for snappy routing (Psychic delivery person)</li>
        <li>Consolidate data sourcing and transformations (Amazon)</li>
    </Appear>
</ul>
